## 데이터분석&시각화(지출액_기준_온라인으로_많이_구입하는_가공식품_품목군(2019-2020))


setwd('C:/Users/gpfl9/Desktop/bigdata_analysis/mini_project4')
data6<-read.csv("지출액_기준_온라인으로_많이_구입하는_가공식품_품목군(2019-2020).csv", header=TRUE)


#1인가구 온라인 가공식품 지출액 비중
#2019년
v2019.1<-as.vector(as.matrix(data6[11,3:27]))
#2020년
v2020.1<-as.vector(as.matrix(data6[11,28:52]))
#소득별 온라인 가공식품 지출액 비중
#200만원 미만
v2019.2<-as.vector(as.matrix(data6[31,3:27]))
v2020.2<-as.vector(as.matrix(data6[31,28:52]))
#200~300만원 미만
v2019.3<-as.vector(as.matrix(data6[32,3:27]))
v2020.3<-as.vector(as.matrix(data6[32,28:52]))
#300~400만원 미만
v2019.4<-as.vector(as.matrix(data6[33,3:27]))
v2020.4<-as.vector(as.matrix(data6[33,28:52]))
#400~500만원 미만
v2019.5<-as.vector(as.matrix(data6[34,3:27]))
v2020.5<-as.vector(as.matrix(data6[34,28:52]))
#500~600만원 미만
v2019.6<-as.vector(as.matrix(data6[35,3:27]))
v2020.6<-as.vector(as.matrix(data6[35,28:52]))
#600만원 이상
v2019.7<-as.vector(as.matrix(data6[36,3:27]))
v2020.7<-as.vector(as.matrix(data6[36,28:52]))
#코로나 전후 1인가구 지출액 기준 온라인 가공식품 비교 분석/시각화
#colname 확인
c(data6[1,c(3:27)])
names1<-c("육류가공품","육류가공품","알가공품","알가공품","조미수산가공품","조미수산가공품","건조수산가공품","건조수산가공품",
          "과일가공품","과일가공품","김치류","김치류","절임류","절임류","드레싱/소스류","드레싱/소스류","장류","장류","유지류","유지류")

names2<-c("유가공품","유가공품","빵/떡","빵/떡","과자","과자","초콜릿/코코아제품","초콜릿/코코아제품","간편식","간편식",
          "면류","면류","연식품","연식품","전분/분말류","전분/분말류","당류","당류","조미식품","조미식품","커피류","커피류",
          "다류","다류","음료류","음료류","주류","주류","건강기능식품","건강기능식품")
names1<-rep(c("육류가공품","알가공품","조미수산가공품","건조수산가공품",
              "과일가공품","김치류","절임류","드레싱/소스류","장류","유지류"), each=2)

names2<-rep(c("유가공품","빵/떡","과자","초콜릿/코코아제품","간편식",
              "면류","연식품","전분/분말류","당류","조미식품","커피류",
              "다류","음료류","주류","건강기능식품"),each=2)




#################
#################


income <- data6[c(1,31:36),]

income_2019 <- income[,c(1:27)]
income_2020 <- income[,c(1,2,28:ncol(income))]

library(plyr)

colnames(income_2019)=c("특성별(1)","특성별(2)","육류가공품","알가공품","조미수산가공품",
         "건조수산가공품","과일가공품","김치류","절임류","드레싱/소스류","장류",
         "유지류","유가공품","빵/떡","과자","초콜릿/코코아제품","간편식",
         "면류","연식품","전분/분말류","당류","조미식품","커피류",
         "다류","음료류","주류","건강기능식품")
income_2019 <- income_2019[-1,]
colnames(income_2020)=c("특성별(1)","특성별(2)","육류가공품","알가공품","조미수산가공품",
                        "건조수산가공품","과일가공품","김치류","절임류","드레싱/소스류","장류",
                        "유지류","유가공품","빵/떡","과자","초콜릿/코코아제품","간편식",
                        "면류","연식품","전분/분말류","당류","조미식품","커피류",
                        "다류","음료류","주류","건강기능식품")
income_2020 <- income_2020[-1,]



ggplot(income_2019, aes('200만원 미만',))

ggplot(income_2019, aes(x = '특성별(2)',y="육류가공품","알가공품","조미수산가공품",
                        "건조수산가공품","과일가공품","김치류","절임류","드레싱/소스류","장류",
                        "유지류","유가공품","빵/떡","과자","초콜릿/코코아제품","간편식",
                        "면류","연식품","전분/분말류","당류","조미식품","커피류",
                        "다류","음료류","주류","건강기능식품") +
  geom_histogram(color = "white") +
  facet_grid(sex ~ rank) +
  labs(title = "Salary histograms by sex and rank",
       x = "Salary ($1000)"))
